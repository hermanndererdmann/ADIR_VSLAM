<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from adir_amr.xacro                 | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="adir_amr">
  <!--................................ XACRO CONSTANTS .............................. -->
  <material name="silver">
    <color rgba="0.700 0.700 0.700 1.000"/>
  </material>
  <material name="zed2i_mat">
    <color rgba="0.25 0.25 0.25 0.99"/>
  </material>
  <transmission name="Revolute 1_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Revolute 1">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="Revolute 1_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="Revolute 2_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Revolute 2">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="Revolute 2_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="Revolute 3_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Revolute 3">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="Revolute 3_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="Revolute 4_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Revolute 4">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="Revolute 4_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="control"/>
  </gazebo>
  <gazebo reference="base_chassis">
    <material>Gazebo/Silver</material>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <self_collide>true</self_collide>
    <gravity>true</gravity>
  </gazebo>
  <gazebo reference="front_left_wheel_1">
    <material>Gazebo/Silver</material>
    <mu1>10.0</mu1>
    <mu2>5.0</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="rear_left_wheel_1">
    <material>Gazebo/Silver</material>
    <mu1>10.0</mu1>
    <mu2>5.0</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="front_right_wheel_1">
    <material>Gazebo/Silver</material>
    <mu1>10.0</mu1>
    <mu2>5.0</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="rear_right_wheel_1">
    <material>Gazebo/Silver</material>
    <mu1>10.0</mu1>
    <mu2>5.0</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="skid_steer_drive_controller">
      <!-- <ros>
          <namespace>$(arg robot_namespace)</namespace>
          <remapping>cmd_vel:=cmd_vel</remapping>
          <remapping>odom:=odom</remapping>
      </ros> -->
      <legacy_mode>false</legacy_mode>
      <update_rate>100.0</update_rate>
      <num_wheel_pairs>2</num_wheel_pairs>
      <left_joint>Revolute 1</left_joint>
      <left_joint>Revolute 2</left_joint>
      <right_joint>Revolute 3</right_joint>
      <right_joint>Revolute 4</right_joint>
      <wheel_separation>0.53</wheel_separation>
      <wheel_diameter>0.37</wheel_diameter>
      <max_wheel_torque>100</max_wheel_torque>
      <robot_base_frame>base_link</robot_base_frame>
      <odometry_frame>odom</odometry_frame>
      <command_topic>cmd_vel</command_topic>
      <odometry_topic>odom</odometry_topic>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>true</publish_wheel_tf>
      <publish_odom>true</publish_odom>
      <max_wheel_acceleration>0.05</max_wheel_acceleration>
      <odometry_source>1</odometry_source>
    </plugin>
  </gazebo>
  <!-- <xacro:include filename="$(find adir_amr_description)/urdf/zed2i_macro.urdf.xacro" /> -->
  <link name="base_link"/>
  <link name="base_chassis">
    <inertial>
      <origin rpy="0 0 0" xyz="0.01159211277265295 -6.802412947672323e-05 0.06459826101317201"/>
      <mass value="363.52318655436534"/>
      <inertia ixx="6.392363" ixy="-0.000358" ixz="-0.016945" iyy="25.21928" iyz="-3.3e-05" izz="29.411179"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="front_left_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="4.757305660518796e-14 0.07499977735987909 1.0609568779074152e-14"/>
      <mass value="116.82215607805702"/>
      <inertia ixx="1.147834" ixy="-0.0" ixz="0.0" iyy="1.871225" iyz="0.0" izz="1.147834"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.3625 -0.219892 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/front_left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.3625 -0.219892 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/front_left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="rear_left_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-7.432943149865423e-14 0.0749997773598747 8.88872309090516e-15"/>
      <mass value="116.82215607805702"/>
      <inertia ixx="1.147834" ixy="-0.0" ixz="0.0" iyy="1.871225" iyz="0.0" izz="1.147834"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.3625 -0.219892 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/rear_left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.3625 -0.219892 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/rear_left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="front_right_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="5.2735593669694936e-14 -0.07500022264012166 -7.809725088847586e-15"/>
      <mass value="116.82215607805702"/>
      <inertia ixx="1.147834" ixy="0.0" ixz="0.0" iyy="1.871225" iyz="0.0" izz="1.147834"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.3625 0.220108 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/front_right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.3625 0.220108 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/front_right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="rear_right_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-7.110978472724128e-14 -0.07500022264012526 -6.807054919732991e-15"/>
      <mass value="116.82215607805702"/>
      <inertia ixx="1.147834" ixy="-0.0" ixz="0.0" iyy="1.871225" iyz="0.0" izz="1.147834"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.3625 0.220108 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/rear_right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.3625 0.220108 -0.03"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/rear_right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="base_joint" type="fixed">
    <parent link="base_link"/>
    <child link="base_chassis"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="Revolute 1" type="continuous">
    <origin rpy="0 0 0" xyz="0.3625 0.219892 0.03"/>
    <parent link="base_chassis"/>
    <child link="front_left_wheel_1"/>
    <axis xyz="0.0 1.0 -0.0"/>
  </joint>
  <joint name="Revolute 2" type="continuous">
    <origin rpy="0 0 0" xyz="-0.3625 0.219892 0.03"/>
    <parent link="base_chassis"/>
    <child link="rear_left_wheel_1"/>
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <joint name="Revolute 3" type="continuous">
    <origin rpy="0 0 0" xyz="0.3625 -0.220108 0.03"/>
    <parent link="base_chassis"/>
    <child link="front_right_wheel_1"/>
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <joint name="Revolute 4" type="continuous">
    <origin rpy="0 0 0" xyz="-0.3625 -0.220108 0.03"/>
    <parent link="base_chassis"/>
    <child link="rear_right_wheel_1"/>
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <!-- <xacro:if value="$(arg stereo_camera_enabled)">    -->
  <link name="zed2i_camera_link"/>
  <!-- Camera Center -->
  <link name="zed2i_camera_center">
    <visual>
      <origin rpy="0 0 0" xyz="-0.01 0 0.0"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/zed2i.stl"/>
      </geometry>
      <material name="zed2i_mat"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.01 0 0.0"/>
      <geometry>
        <mesh filename="file:///home/andrew/projects/antRobotics/adir_sprayer/install/adir_amr_description/share/adir_amr_description/meshes/zed2i.stl"/>
      </geometry>
    </collision>
  </link>
  <joint name="zed2i_camera_center_joint" type="fixed">
    <parent link="zed2i_camera_link"/>
    <child link="zed2i_camera_center"/>
    <origin rpy="0 0.0 0" xyz="0 0 0.015"/>
  </joint>
  <!-- Left Camera -->
  <link name="zed2i_left_camera_frame"/>
  <joint name="zed2i_left_camera_joint" type="fixed">
    <parent link="zed2i_camera_center"/>
    <child link="zed2i_left_camera_frame"/>
    <origin rpy="0 0 0" xyz="-0.01 0.06 0"/>
  </joint>
  <link name="zed2i_left_camera_optical_frame"/>
  <joint name="zed2i_left_camera_optical_joint" type="fixed">
    <origin rpy="-1.5707963267948966 0.0 -1.5707963267948966" xyz="0 0 0"/>
    <parent link="zed2i_left_camera_frame"/>
    <child link="zed2i_left_camera_optical_frame"/>
  </joint>
  <!-- Right Camera -->
  <link name="zed2i_right_camera_frame"/>
  <joint name="zed2i_right_camera_joint" type="fixed">
    <parent link="zed2i_camera_center"/>
    <child link="zed2i_right_camera_frame"/>
    <origin rpy="0 0 0" xyz="-0.01 -0.06 0"/>
  </joint>
  <link name="zed2i_right_camera_optical_frame"/>
  <joint name="zed2i_right_camera_optical_joint" type="fixed">
    <origin rpy="-1.5707963267948966 0.0 -1.5707963267948966" xyz="0 0 0"/>
    <parent link="zed2i_right_camera_frame"/>
    <child link="zed2i_right_camera_optical_frame"/>
  </joint>
  <joint name="zed2i_camera_link_to_base_link" type="fixed">
    <origin rpy="0 -0.5235 0" xyz="0.5928 0 0.10110000000000001"/>
    <parent link="base_link"/>
    <child link="zed2i_camera_link"/>
  </joint>
  <!-- 
    ZED2 Sensors
   
      <link name="zed2i_mag_link" />
      <joint name="zed2i_mag_joint" type="fixed">
        <parent link="zed2i_camera_center"/>
        <child link="zed2i_mag_link"/>
        <origin xyz="0 0 0" rpy="0 0 0" />
      </joint>

      <link name="zed2i_baro_link" />
      <joint name="zed2i_baro_joint" type="fixed">
        <parent link="zed2i_camera_center"/>
        <child link="zed2i_baro_link"/>
        <origin xyz="0 0 0" rpy="0 0 0" />
      </joint>

      <link name="zed2i_temp_left_link" />
      <joint name="zed2i_temp_left_joint" type="fixed">
        <parent link="zed2i_left_camera_frame"/>
        <child link="zed2i_temp_left_link"/>
        <origin xyz="0 0 0" rpy="0 0 0" />
      </joint>

      <link name="zed2i_temp_right_link" />
      <joint name="zed2i_temp_right_joint" type="fixed">
        <parent link="zed2i_right_camera_frame"/>
        <child link="zed2i_temp_right_link"/>
        <origin xyz="0 0 0" rpy="0 0 0" />
      </joint> -->
  <!-- </xacro:if> -->
  <!-- ............................. 2D LIDAR ........................................ -->
  <!-- <xacro:if value="$(arg two_d_lidar_enabled)"> -->
  <!-- <link name="two_d_lidar">
            <collision>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <cylinder length="0.06" radius="0.075"/>
                </geometry>
            </collision>

            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <cylinder length="0.06" radius="0.075"/>
                </geometry>
                <material name="aluminium"/>
            </visual>

            <inertial>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <mass value="0.1"/>
                <xacro:cylinder_inertia m="0.1" r="0.075" h="0.06"/>
            </inertial>
        </link>

        <joint name="two_d_lidar_joint" type="fixed">
            <parent link="base_link"/>
            <child link="two_d_lidar"/>
            <origin xyz="0.0 0 0.45" rpy="0 0 0" />
        </joint>

        <gazebo reference="two_d_lidar">
            <material>Gazebo/White</material>
        </gazebo>

    </xacro:if> -->
</robot>
